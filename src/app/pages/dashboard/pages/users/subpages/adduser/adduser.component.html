<div class="container-fluid">

    <div class="row">
        <div class="col-sm-12">
            <h3>Add User</h3>
        </div>
    </div>

    <div class="row">
       <div class="col-md-6 col-sm-12">
         <div class="row">
             <div class="col-12">
                <form nz-form [formGroup]="userForm" (ngSubmit)="addUser()">
                    <div formGroupName="userData">
                        <nz-form-item>
                            <nz-form-control [nzErrorTip]="userForm.get('userData.id').hasError('required') ? 'Field required' :  userForm.get('userData.id').hasError('idtaken') ? 'ID already taken.' : ''">
                              <nz-input-group nzPrefixIcon="idcard">
                                <input type="text" nz-input formControlName="id" placeholder="ID" />
                              </nz-input-group>
                            </nz-form-control>
                          </nz-form-item>

                         <nz-form-item>
                            <nz-select nzPrefixIcon="lock" nzShowSearch nzAllowClear nzPlaceHolder="Select a Network" >
                                <nz-option *ngFor="let network of (networks$ | async)" [nzLabel]="network.name" [nzValue]="network.id"></nz-option>
                            </nz-select>
                         </nz-form-item>

                         <nz-form-item>
                            <nz-select nzPrefixIcon="lock" nzShowSearch nzAllowClear nzPlaceHolder="Select a Cellgroup" >
                                <nz-option *ngFor="let cellgroup of (cellgroups$ | async)" [nzLabel]="usersMap[cellgroup.leader] ? usersMap[cellgroup.leader] : cellgroup.leader" [nzValue]="cellgroup.leader"></nz-option>
                            </nz-select>
                         </nz-form-item>

                         <nz-form-item>
                            <nz-form-control nzErrorTip="Encounter Batch Number">
                              <nz-input-group nzPrefixIcon="user">
                                <input type="text" nz-input formControlName="encounterbatch" placeholder="Encounter Batch" />
                              </nz-input-group>
                            </nz-form-control>
                          </nz-form-item>

                          <nz-form-item>
                            <nz-form-control nzErrorTip="Please input a firstname!">
                              <nz-input-group nzPrefixIcon="user">
                                <input type="text" nz-input formControlName="firstname" placeholder="Firstname" />
                              </nz-input-group>
                            </nz-form-control>
                          </nz-form-item>
                          
                          <nz-form-item>
                            <nz-form-control nzErrorTip="Please input a lastname!">
                              <nz-input-group nzPrefixIcon="user">
                                <input type="text" nz-input formControlName="lastname" placeholder="Lastname" />
                              </nz-input-group>
                            </nz-form-control>
                          </nz-form-item>

                          <nz-form-item>
                            <nz-form-control nzErrorTip="Encounter Batch Number">
                                <nz-select nzPrefixIcon="lock" nzShowSearch nzAllowClear nzPlaceHolder="Select a Gender" >
                                    <nz-option  nzLabel="Male" nzValue="male"></nz-option>
                                    <nz-option  nzLabel="Female" nzValue="female"></nz-option>
                                </nz-select>
                            </nz-form-control>
                          </nz-form-item>

                          <nz-form-item>
                            <nz-form-control nzErrorTip="Please input a phone number!">
                              <nz-input-group nzPrefixIcon="phone">
                                <input type="text" nz-input formControlName="phone" placeholder="Phone number" />
                              </nz-input-group>
                            </nz-form-control>
                          </nz-form-item>

                          <nz-form-item>
                            <nz-form-control nzErrorTip="Please input an email address!">
                              <nz-input-group nzPrefixIcon="mail">
                                <input type="email" nz-input formControlName="email" placeholder="Email Address" />
                              </nz-input-group>
                            </nz-form-control>
                          </nz-form-item>


                          <nz-form-item>
                            <nz-form-control nzErrorTip="Please input an email address!">
                                <nz-date-picker nzSize="large" formControlName="birthdate" nzPlaceHolder='Birthdate'></nz-date-picker>
                            </nz-form-control>
                          </nz-form-item>
                          
                    </div>

                    <div formGroupName="userProfile">
                        <nz-divider nzText="Address"></nz-divider>
                        <div formGroupName="userAddress">
                            <div class="row">
                                <div class="col-sm-4">
                                    <nz-form-item>
                                        <nz-form-control nzErrorTip="Please input a unit or block #.">
                                          <nz-input-group nzPrefixIcon="mail">
                                            <input type="text" nz-input formControlName="unit" placeholder="Unit / Block" />
                                          </nz-input-group>
                                        </nz-form-control>
                                      </nz-form-item>
                                </div>
                                <div class="col-sm-8">
                                    <nz-form-item>
                                        <nz-form-control nzErrorTip="Please input a street,">
                                          <nz-input-group nzPrefixIcon="mail">
                                            <input type="text" nz-input formControlName="street" placeholder="Street" />
                                          </nz-input-group>
                                        </nz-form-control>
                                      </nz-form-item>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-8">
                                    <nz-form-item>
                                        <nz-form-control nzErrorTip="Please input a Barangay.">
                                            <nz-input-group nzPrefixIcon="mail">
                                            <input type="text" nz-input formControlName="barangay" placeholder="Barangay" />
                                            </nz-input-group>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>

                                <div class="col-sm-4">
                                    <nz-form-item>
                                        <nz-form-control nzErrorTip="Please input a city">
                                            <nz-input-group nzPrefixIcon="mail">
                                            <input type="text" nz-input formControlName="city" placeholder="City" />
                                            </nz-input-group>
                                        </nz-form-control>
                                        </nz-form-item>
                                </div>
                            </div>
                        </div>

                        
                        <nz-divider nzText="Workplace"></nz-divider>
                        <nz-form-item>
                            <nz-form-control nzErrorTip="Please input a workplace address!">
                              <nz-input-group nzPrefixIcon="bank">
                                <input type="text" nz-input formControlName="workplace" placeholder="Workplace" />
                              </nz-input-group>
                            </nz-form-control>
                          </nz-form-item>

                        
                          <nz-divider nzText="Campus"></nz-divider>
                          <nz-form-item>
                              <nz-form-control nzErrorTip="Please input a Campus!">
                                <nz-input-group nzPrefixIcon="bank">
                                  <input type="text" nz-input formControlName="campus" placeholder="Campus" />
                                </nz-input-group>
                              </nz-form-control>
                            </nz-form-item>
                    </div>


                    <nz-divider></nz-divider>
                   
                    <div class="row">
                        <div class="col sm-12">
                            <div class="text-right">
                                <button class="btn pull-right mr-3" nz-button nzType="danger" [nzSize]="'large'"><i nz-icon nzType="close"></i>Cancel</button>
                                <button type="submit" class="btn pull-right" nz-button nzType="primary" [nzSize]="'large'"><i nz-icon nzType="user-add"></i>Add User</button>
                            </div>
                        </div>
                    </div>
                  </form>

                 
             </div>
         </div>
       </div>

       <div class="col-md-6">
            <nz-divider nzText="Preview"></nz-divider>
       </div>
    </div>
</div>